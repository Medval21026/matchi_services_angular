<div class="min-h-screen flex items-center justify-center bg-[#f5f5f0] px-4">
  <div
    class="w-full max-w-md bg-white rounded-3xl shadow-xl px-8 py-10 animate-fade-in"
  >

    <!-- TITRE -->
    <div class="text-center mb-8">
      <h1 class="text-2xl font-bold text-gray-900">
        Matchi Service
      </h1>
      <p class="mt-2 text-sm text-gray-500">
        Connectez-vous pour gérer votre terrain
      </p>
    </div>

    <!-- FORMULAIRE -->
    <form
      [formGroup]="loginForm"
      (ngSubmit)="onSubmit()"
      class="space-y-6"
    >

      <!-- TELEPHONE -->
      <div>
        <label
          for="telephone"
          class="block text-sm font-medium text-gray-700 mb-1"
        >
          Téléphone
        </label>

        <input
          id="telephone"
          type="text"
          formControlName="telephone"
          placeholder="Votre numéro de téléphone"
          class="w-full px-4 py-3 rounded-xl border bg-gray-50 focus:bg-white focus:outline-none focus:ring-4 focus:ring-green-100 focus:border-green-500 transition"
          [class.border-red-400]="loginForm.get('telephone')?.invalid && loginForm.get('telephone')?.touched"
        />

        <p
          class="mt-1 text-xs text-red-500"
          *ngIf="loginForm.get('telephone')?.invalid && loginForm.get('telephone')?.touched"
        >
          <span *ngIf="loginForm.get('telephone')?.hasError('required')">
            Le téléphone est requis
          </span>
          <span *ngIf="loginForm.get('telephone')?.hasError('pattern')">
            Numéro invalide
          </span>
        </p>
      </div>

      <!-- MOT DE PASSE -->
      <div>
        <label
          for="password"
          class="block text-sm font-medium text-gray-700 mb-1"
        >
          Mot de passe
        </label>

        <div class="relative">
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="••••••••"
            class="w-full px-4 py-3 pr-12 rounded-xl border bg-gray-50 focus:bg-white focus:outline-none focus:ring-4 focus:ring-green-100 focus:border-green-500 transition"
            [class.border-red-400]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
          />

          <button
            type="button"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-green-600 transition"
            (click)="togglePasswordVisibility()"
          >
            <svg
              *ngIf="!showPassword"
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
            >
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8" />
              <circle cx="12" cy="12" r="3" />
            </svg>

            <svg
              *ngIf="showPassword"
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
            >
              <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8" />
              <path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8" />
              <line x1="1" y1="1" x2="23" y2="23" />
            </svg>
          </button>
        </div>

        <p
          class="mt-1 text-xs text-red-500"
          *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
        >
          Minimum 4 caractères
        </p>
      </div>

      <!-- MESSAGE ERREUR -->
      <div
        *ngIf="errorMessage"
        class="bg-red-50 border border-red-200 text-red-600 rounded-xl px-4 py-3 text-sm text-center"
      >
        {{ errorMessage }}
      </div>

      <!-- BOUTON -->
      <button
        type="submit"
        [disabled]="isLoading"
        class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-3.5 rounded-xl transition-all shadow-lg shadow-green-500/30 hover:-translate-y-0.5 disabled:bg-gray-300 disabled:shadow-none disabled:translate-y-0 disabled:cursor-not-allowed"
      >
        <span *ngIf="!isLoading">Se connecter</span>
        <span *ngIf="isLoading">Connexion...</span>
      </button>

    </form>
  </div>
</div>
